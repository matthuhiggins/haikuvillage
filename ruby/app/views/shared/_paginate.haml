.nextpage
  = link_to_adjacent_page('&#171;', collection, :previous)

%ul
  - last_page = 0
  - windowed_pagination_links(collection, :window_size => 2, :link_to_current_page => true, :always_show_anchors => true) do |n|
    - if collection.page == n
    %li.currentpage
      = n
    - else
    %li
      = "..." if last_page + 1 < n
      = link_to_page(n)
    - end
    - last_page = n

.nextpage
  = link_to_adjacent_page('&#187;', collection, :next)

%span#pagination_loader{:style => "display:none"}
  = image_tag("ajax-loader.gif")