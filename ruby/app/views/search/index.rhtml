<form action="<%= controller.action_name %>", method="get">
  <input id="search" name="q" size="30" type="text"/>
  <input type="submit" />
  <script>
    document.getElementById('search').focus();
  </script>
</form>

<%= render(:partial => "shared/#{controller.action_name}") %>