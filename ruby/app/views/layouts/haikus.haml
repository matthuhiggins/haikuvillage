!!! XML
!!!
%html
  %head
    %title Haikus
    = javascript_include_tag 'prototype', 'effects', 'application'
    = stylesheet_link_tag 'reset-min', 'haiku', 'main', 'menu'
    = yield :head
  %body
    #frame
      #navigation
        #global-navigation
          %ul.top-menu
            %li#logo= link_to(image_tag("haikuvillage.gif"), :controller => "welcome", :action => "index")
            - unless current_user
            %li#login_link= link_to 'Login', login_url
            %li
              %form#login_form{:action => login_url, :style => "display:none"}
                %div
                  %label{:for => 'login_form_username'}='Twitter Username:'
                  %input{:id => 'login_form_username', :type => 'text', :name => 'username', :size => 15}
                %div
                  %label{:for => 'login_form_password'}='Password:'
                  %input{:id => 'login_form_password', :type => 'password', :name => 'password', :size => 15}
                  %button{:type => 'submit'}="Go"
            - end
          %ul.bottom-menu
            %li= link_to 'Recent', :controller => 'haikus', :action => 'index'
            %li= '/'
            %li= link_to 'Popular', :controller => 'haikus', :action => 'popular'
        - if current_user
        #user-navigation
          %ul.top-menu
            %li= link_to 'Logout', logout_url
          %ul.bottom-menu
            %li= link_to 'Favorites', :controller => 'favorites', :action => 'index'
            %li= '/'
            %li= link_to 'My Haikus', :controller => 'users', :action => 'show', :id => current_user.username
            %li= '/'
            %li= link_to 'Create', create_url
        - end
      #content
        = flash[:notice]
        %h2= yield :title
        = yield :layout
      #foot